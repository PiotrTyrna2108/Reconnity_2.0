## **app/main.py**
- **Do czego s≈Çu≈ºy:**  
  G≈Ç√≥wny plik uruchamiajƒÖcy aplikacjƒô FastAPI.
- **Funkcje:**  
  Tworzy instancjƒô FastAPI, rejestruje routery z `api/routers`, ustawia middleware, eventy start/stop.
- **Integracje:**  
  - `api/routers/` (import router√≥w)
  - `core/settings.py` (konfiguracja)
  - `database.py` (inicjalizacja bazy)
  - `core/logging.py` (logowanie)

---

## **app/database.py**
- **Do czego s≈Çu≈ºy:**  
  Konfiguracja po≈ÇƒÖczenia z bazƒÖ danych (SQLAlchemy), inicjalizacja tabel, sesje.
- **Funkcje:**  
  Tworzy silnik bazy, sesje, funkcje do inicjalizacji bazy.
- **Integracje:**  
  - `models/` (modele bazy)
  - `api/dependencies.py` (dostarcza sesje)
  - `services/` (operacje na bazie)

---

## **app/api/dependencies.py**
- **Do czego s≈Çu≈ºy:**  
  Definiuje zale≈ºno≈õci FastAPI (np. pobieranie sesji bazy, autoryzacja).
- **Funkcje:**  
  Funkcje zale≈ºno≈õci do u≈ºycia w endpointach.
- **Integracje:**  
  - `database.py` (sesje)
  - `core/security.py` (autoryzacja)
  - `api/routers/` (wykorzystanie zale≈ºno≈õci)

---

## **app/api/errors.py**
- **Do czego s≈Çu≈ºy:**  
  Obs≈Çuga wyjƒÖtk√≥w i b≈Çƒôd√≥w HTTP.
- **Funkcje:**  
  Definiuje w≈Çasne wyjƒÖtki, mapuje je na odpowiedzi HTTP.
- **Integracje:**  
  - `api/routers/` (rzucanie wyjƒÖtk√≥w)
  - FastAPI (rejestracja handler√≥w)

---

## **app/api/routers/health.py**
- **Do czego s≈Çu≈ºy:**  
  Endpoint `/health` do sprawdzania stanu systemu.
- **Funkcje:**  
  Zwraca status aplikacji, opcjonalnie sprawdza po≈ÇƒÖczenie z bazƒÖ.
- **Integracje:**  
  - `schemas/health.py` (odpowied≈∫)
  - `database.py` (sprawdzenie bazy)

---

## **app/api/routers/scan.py**
- **Do czego s≈Çu≈ºy:**  
  Endpointy do zarzƒÖdzania skanami.
- **Funkcje:**  
  Tworzenie skanu, pobieranie statusu, oznaczanie jako zako≈Ñczony/nieudany.
- **Integracje:**  
  - `schemas/scan.py` (walidacja)
  - `services/scan_service.py` (logika biznesowa)
  - `models/scan.py` (operacje na modelu)
  - `tasks/tasks/scan_tasks.py` (delegowanie zada≈Ñ)

---

## **app/api/routers/nuclei_templates.py**
- **Do czego s≈Çu≈ºy:**  
  Endpointy do zarzƒÖdzania szablonami Nuclei.
- **Funkcje:**  
  Pobieranie, od≈õwie≈ºanie szablon√≥w skanera.
- **Integracje:**  
  - `services/` (je≈õli jest logika szablon√≥w)
  - `schemas/` (je≈õli sƒÖ schematy szablon√≥w)

---

## **app/api/routers/scan_options.py**
- **Do czego s≈Çu≈ºy:**  
  Endpointy do pobierania opcji skanowania.
- **Funkcje:**  
  Zwraca dostƒôpne opcje (np. zakresy port√≥w, typy skan√≥w).
- **Integracje:**  
  - `schemas/scan_options.py`
  - `services/` (logika opcji)

---

## **app/api/routers/__init__.py**
- **Do czego s≈Çu≈ºy:**  
  Rejestruje routery do g≈Ç√≥wnej aplikacji.
- **Funkcje:**  
  Importuje i ≈ÇƒÖczy routery.
- **Integracje:**  
  - `main.py` (importuje routery)

---

## **app/core/logging.py**
- **Do czego s≈Çu≈ºy:**  
  Konfiguracja loggera.
- **Funkcje:**  
  Funkcja `get_logger()`, ustawienia logowania.
- **Integracje:**  
  - Ca≈Çy projekt (wszƒôdzie gdzie logujesz)

---

## **app/core/security.py**
- **Do czego s≈Çu≈ºy:**  
  Funkcje bezpiecze≈Ñstwa (tokeny, autoryzacja).
- **Funkcje:**  
  Generowanie i weryfikacja token√≥w, autoryzacja u≈ºytkownika.
- **Integracje:**  
  - `api/dependencies.py`
  - `services/`

---

## **app/core/settings.py**
- **Do czego s≈Çu≈ºy:**  
  Wczytywanie ustawie≈Ñ aplikacji (np. z env).
- **Funkcje:**  
  Klasa/config z ustawieniami.
- **Integracje:**  
  - Ca≈Çy projekt (import ustawie≈Ñ)

---

## **app/models/asset.py**
- **Do czego s≈Çu≈ºy:**  
  Model `Asset` ‚Äì zas√≥b do skanowania (IP, domena).
- **Funkcje:**  
  Definicja tabeli, relacje.
- **Integracje:**  
  - `services/asset_service.py`
  - `schemas/asset.py`
  - `db/repositories/`

---

## **app/models/base.py**
- **Do czego s≈Çu≈ºy:**  
  Klasa bazowa dla modeli SQLAlchemy.
- **Funkcje:**  
  Deklaracja `Base = declarative_base()`.
- **Integracje:**  
  - Wszystkie modele

---

## **app/models/finding.py**
- **Do czego s≈Çu≈ºy:**  
  Model `Finding` (znalezisko), `RiskScore`.
- **Funkcje:**  
  Definicja tabeli, relacje, scoring.
- **Integracje:**  
  - `services/finding_service.py`
  - `schemas/finding.py`
  - `risk_engine.py`

---

## **app/models/scan.py**
- **Do czego s≈Çu≈ºy:**  
  Model `Scan` ‚Äì pojedyncze zadanie skanowania.
- **Funkcje:**  
  Definicja tabeli, statusy, relacje.
- **Integracje:**  
  - `services/scan_service.py`
  - `schemas/scan.py`
  - `db/repositories/`

---

## **app/schemas/asset.py**
- **Do czego s≈Çu≈ºy:**  
  Schematy Pydantic dla zasob√≥w (`Asset`).
- **Funkcje:**  
  Walidacja danych wej≈õciowych/wyj≈õciowych.
- **Integracje:**  
  - `api/routers/`
  - `models/asset.py`

---

## **app/schemas/finding.py**
- **Do czego s≈Çu≈ºy:**  
  Schematy Pydantic dla znalezisk i scoringu.
- **Funkcje:**  
  Walidacja danych wej≈õciowych/wyj≈õciowych.
- **Integracje:**  
  - `api/routers/`
  - `models/finding.py`

---

## **app/schemas/health.py**
- **Do czego s≈Çu≈ºy:**  
  Schemat odpowiedzi dla `/health`.
- **Funkcje:**  
  Walidacja odpowiedzi healthcheck.
- **Integracje:**  
  - `api/routers/health.py`

---

## **app/schemas/scan.py**
- **Do czego s≈Çu≈ºy:**  
  Schematy Pydantic dla skan√≥w.
- **Funkcje:**  
  Walidacja ≈ºƒÖda≈Ñ i odpowiedzi zwiƒÖzanych ze skanami.
- **Integracje:**  
  - `api/routers/scan.py`
  - `models/scan.py`

---

## **app/schemas/scan_options.py**
- **Do czego s≈Çu≈ºy:**  
  Schematy opcji skanowania.
- **Funkcje:**  
  Walidacja opcji skanowania.
- **Integracje:**  
  - `api/routers/scan_options.py`

---

## **app/services/asset_service.py**
- **Do czego s≈Çu≈ºy:**  
  Operacje na zasobach (`Asset`).
- **Funkcje:**  
  Tworzenie, aktualizacja, pobieranie zasob√≥w.
- **Integracje:**  
  - `models/asset.py`
  - `db/repositories/`
  - `schemas/asset.py`

---

## **app/services/finding_service.py**
- **Do czego s≈Çu≈ºy:**  
  Operacje na znaleziskach (`Finding`).
- **Funkcje:**  
  Tworzenie, aktualizacja, pobieranie znalezisk.
- **Integracje:**  
  - `models/finding.py`
  - `db/repositories/`
  - `schemas/finding.py`

---

## **app/services/risk_service.py**
- **Do czego s≈Çu≈ºy:**  
  Logika oceny ryzyka.
- **Funkcje:**  
  Obliczanie scoringu ryzyka na podstawie znalezisk.
- **Integracje:**  
  - `risk_engine.py`
  - `models/finding.py`

---

## **app/services/scan_service.py**
- **Do czego s≈Çu≈ºy:**  
  G≈Ç√≥wna logika zarzƒÖdzania skanami.
- **Funkcje:**  
  Tworzenie, aktualizacja, pobieranie skan√≥w, delegowanie do tasks.
- **Integracje:**  
  - `models/scan.py`
  - `db/repositories/`
  - `tasks/tasks/scan_tasks.py`
  - `risk_engine.py`
  - `schemas/scan.py`

---

## **app/tasks/config/queue_config.py**
- **Do czego s≈Çu≈ºy:**  
  Konfiguracja kolejki zada≈Ñ, worker settings.
- **Funkcje:**  
  Definiuje ustawienia ARQ/Celery, listƒô funkcji zada≈Ñ.
- **Integracje:**  
  - `tasks/tasks/scan_tasks.py`
  - `tasks/config/redis_config.py`

---

## **app/tasks/config/redis_config.py**
- **Do czego s≈Çu≈ºy:**  
  Konfiguracja po≈ÇƒÖczenia z Redis.
- **Funkcje:**  
  Ustawienia hosta, portu, bazy, itp.
- **Integracje:**  
  - `queue_config.py`
  - tasks

---

## **app/tasks/config/retry_helpers.py**
- **Do czego s≈Çu≈ºy:**  
  Funkcje pomocnicze do retry.
- **Funkcje:**  
  Dekoratory, logika retry dla zada≈Ñ.
- **Integracje:**  
  - `scan_tasks.py`
  - inne zadania

---

## **app/tasks/monitoring/task_metrics.py**
- **Do czego s≈Çu≈ºy:**  
  Metryki zada≈Ñ.
- **Funkcje:**  
  Zliczanie, eksportowanie metryk task√≥w.
- **Integracje:**  
  - `scan_tasks.py`
  - monitoring

---

## **app/tasks/tasks/scan_tasks.py**
- **Do czego s≈Çu≈ºy:**  
  Zadania asynchroniczne zwiƒÖzane ze skanowaniem.
- **Funkcje:**  
  Funkcje `scan_asset`, `process_scan_result` ‚Äì uruchamianie skan√≥w, przetwarzanie wynik√≥w.
- **Integracje:**  
  - `services/scan_service.py`
  - `models/scan.py`
  - `database.py`
  - `risk_engine.py`
  - `tasks/config/queue_config.py`

---

## **app/risk_engine.py**
- **Do czego s≈Çu≈ºy:**  
  Silnik analizy ryzyka.
- **Funkcje:**  
  Oblicza poziom ryzyka na podstawie znalezisk, port√≥w, us≈Çug, podatno≈õci.
- **Integracje:**  
  - `models/finding.py`
  - `services/risk_service.py`
  - `tasks/tasks/scan_tasks.py`

---

// ...existing code...

---

## **üìÅ Struktura projektu - Dla kompletnego laika**

### **üìÇ app/**
**Co to:** G≈Ç√≥wny folder z ca≈ÇƒÖ aplikacjƒÖ - serce projektu.
**Pro≈õciej:** To jak g≈Ç√≥wna szafa z wszystkimi ubraniami - wszystko wa≈ºne jest tutaj.

### **üìÇ app/api/**
**Co to:** Folder z endpointami API - punktami gdzie frontend rozmawia z backendem.
**Pro≈õciej:** To jak recepcja w hotelu - tutaj przyjmujesz wszystkie zapytania od klient√≥w.

### **üìÇ app/api/routers/**
**Co to:** Konkretne ≈õcie≈ºki API pogrupowane tematycznie.
**Pro≈õciej:** To jak r√≥≈ºne okienka w urzƒôdzie - ka≈ºde za≈Çatwia inne sprawy.

### **üìÇ app/core/**
**Co to:** Podstawowe ustawienia i konfiguracja aplikacji.
**Pro≈õciej:** To jak instrukcja obs≈Çugi - m√≥wi aplikacji jak siƒô zachowywaƒá.

### **üìÇ app/models/**
**Co to:** Definicje tabel bazodanowych - jak wyglƒÖdajƒÖ dane w bazie.
**Pro≈õciej:** To jak formularze - okre≈õlajƒÖ jakie pola masz wype≈Çniƒá w bazie danych.

### **üìÇ app/schemas/**
**Co to:** Schematy Pydantic do walidacji danych wej≈õciowych/wyj≈õciowych.
**Pro≈õciej:** To jak kontrola bezpiecze≈Ñstwa na lotnisku - sprawdza czy dane sƒÖ OK.

### **üìÇ app/services/**
**Co to:** Logika biznesowa - g≈Ç√≥wne operacje aplikacji.
**Pro≈õciej:** To jak kuchnia w restauracji - tutaj dzieje siƒô prawdziwa robota.

### **üìÇ app/utils/**
**Co to:** Pomocnicze funkcje u≈ºywane w ca≈Çej aplikacji.
**Pro≈õciej:** To jak przybornik - ma≈Çe narzƒôdzia kt√≥re pomagajƒÖ w r√≥≈ºnych sytuacjach.

### **üìÇ tests/**
**Co to:** Testy automatyczne sprawdzajƒÖce czy kod dzia≈Ça poprawnie.
**Pro≈õciej:** To jak egzamin dla kodu - sprawdza czy wszystko dzia≈Ça jak powinno.

### **üìÇ migrations/**
**Co to:** Pliki zmieniajƒÖce strukturƒô bazy danych w czasie.
**Pro≈õciej:** To jak historia zmian - zapisuje co i kiedy zmieni≈Çe≈õ w bazie.

---



## **üìÑ Pliki - Dla kompletnego laika** czytaj Piotrka

### **‚öôÔ∏è app/core/config.py**
**Co to:** G≈Ç√≥wne ustawienia aplikacji (baza danych, API keys, etc.).
**Pro≈õciej:** To jak panel sterowania - tutaj ustawiasz wszystkie wa≈ºne opcje.

### **‚öôÔ∏è app/core/database.py**
**Co to:** Po≈ÇƒÖczenie z bazƒÖ danych i konfiguracja SQLAlchemy.
**Pro≈õciej:** To jak kabel ≈ÇƒÖczƒÖcy komputer z internetem - ≈ÇƒÖczy aplikacjƒô z bazƒÖ.

### **üîå app/api/routers/health.py**
**Co to:** Endpoint sprawdzajƒÖcy czy aplikacja ≈ºyje i dzia≈Ça.
**Pro≈õciej:** To jak puls - szybko sprawdzasz czy aplikacja jeszcze oddycha.

### **üîç app/api/routers/findings.py**
**Co to:** Endpointy do zarzƒÖdzania znaleziskami (dodawanie, pobieranie, etc.).
**Pro≈õciej:** To jak biuro zg≈Çosze≈Ñ - tutaj zg≈Çaszasz i przeglƒÖdasz wszystkie znaleziska.

### **üìä app/models/finding.py**
**Co to:** Model bazy danych dla znalezisk - struktura tabeli.
**Pro≈õciej:** To jak szablon formularza - okre≈õla jakie pola ma ka≈ºde znalezisko.

### **‚úÖ app/schemas/finding.py**
**Co to:** Schematy walidacji dla znalezisk (wej≈õcie/wyj≈õcie API).
**Pro≈õciej:** To jak kontroler bilet√≥w - sprawdza czy dane wyglƒÖdajƒÖ jak powinny.

### **üíö app/schemas/health.py**
**Co to:** Schemat odpowiedzi dla endpointu health.
**Pro≈õciej:** To jak standardowa odpowied≈∫ "wszystko OK" - zawsze wyglƒÖda tak samo.

### **üîß app/services/finding_service.py**
**Co to:** Logika biznesowa dla znalezisk (operacje CRUD).
**Pro≈õciej:** To jak pracownik kt√≥ry faktycznie za≈Çatwia sprawy - robi prawdziwƒÖ robotƒô.

### **üõ†Ô∏è app/utils/helpers.py**
**Co to:** Pomocnicze funkcje u≈ºywane w r√≥≈ºnych miejscach.
**Pro≈õciej:** To jak multitool - ma≈Çe przydatne narzƒôdzia na r√≥≈ºne okazje.

### **üöÄ main.py**
**Co to:** G≈Ç√≥wny plik uruchamiajƒÖcy aplikacjƒô FastAPI.
**Pro≈õciej:** To jak przycisk START - uruchamia ca≈ÇƒÖ aplikacjƒô.

### **üìã requirements.txt**
**Co to:** Lista wszystkich bibliotek Pythona potrzebnych do uruchomienia.
**Pro≈õciej:** To jak lista zakup√≥w - wszystko co musisz zainstalowaƒá ≈ºeby aplikacja dzia≈Ça≈Ça.

### **üê≥ Dockerfile**
**Co to:** Przepis na stworzenie kontenera Docker z aplikacjƒÖ.
**Pro≈õciej:** To jak instrukcja pakowania - m√≥wi jak zapakowaƒá aplikacjƒô w pude≈Çko.

### **üîß docker-compose.yml**
**Co to:** Konfiguracja do uruchomienia aplikacji i bazy danych jednym poleceniem.
**Pro≈õciej:** To jak pilot uniwersalny - jednym klikniƒôciem w≈ÇƒÖcza ca≈Çe kino domowe.